<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cours PHP - PHP Hero Academy</title>
    <link rel="stylesheet" href="cours-style.css">
</head>
<body>
    <!-- Barre de progression de lecture -->
    <div class="scroll-progress-bar" id="scrollProgressBar"></div>

    <!-- Navigation principale -->
    <nav class="main-nav">
        <div class="nav-container">
            <button class="mobile-menu-btn" id="mobileMenuBtn" title="Menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
            <a href="index.html" class="logo">
                <span class="logo-icon">üöÄ</span>
                <span class="logo-text">PHP Hero Academy</span>
            </a>
            <div class="nav-actions">
                <div class="theme-dropdown">
                    <button class="theme-toggle-btn" id="themeToggleBtn" title="Choisir le th√®me de couleur">
                        <span class="theme-icon" id="themeIcon">üåô</span>
                        <span class="theme-label" id="themeLabel">Clair</span>
                        <svg class="dropdown-arrow" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </button>
                    <div class="theme-menu" id="themeMenu">
                        <button class="theme-option" data-theme="light">
                            <span class="theme-option-icon">üåô</span>
                            <span class="theme-option-name">Th√®me Clair</span>
                        </button>
                        <button class="theme-option" data-theme="dark">
                            <span class="theme-option-icon">üåô</span>
                            <span class="theme-option-name">Winter is Coming</span>
                        </button>
                        <button class="theme-option" data-theme="dracula">
                            <span class="theme-option-icon">üßõ</span>
                            <span class="theme-option-name">Dracula</span>
                        </button>
                    </div>
                </div>
                <button class="theme-selector-btn" id="themeSelectorBtn">
                    <span id="currentThemeIcon">üéÆ</span>
                    <span id="currentThemeName">Choisir un th√®me</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </button>
                <div class="progress-indicator">
                    <span class="progress-text">Progression</span>
                    <div class="progress-bar-mini">
                        <div class="progress-fill-mini" id="progressFillMini"></div>
                    </div>
                    <span class="progress-percent" id="progressPercent">0%</span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Conteneur principal -->
    <div class="main-container">
        <!-- Sidebar de navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>
                    <span id="sidebarThemeIcon">üìö</span>
                    <span id="sidebarThemeTitle">Cours PHP</span>
                </h2>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
            </div>

            <div class="sidebar-content" id="sidebarContent">
                <!-- Les modules seront inject√©s ici par JavaScript -->
            </div>
        </aside>

        <!-- Contenu principal -->
        <main class="content-area">
            <!-- Bouton flottant pour acc√©der aux cours sur mobile -->
            <button class="floating-courses-btn" id="floatingCoursesBtn" title="Voir tous les cours">
                üìö
            </button>

            <div class="lesson-container" id="lessonContainer">
                <!-- √âtat initial : s√©lection du th√®me -->
                <div class="welcome-screen" id="welcomeScreen">
                    <div class="welcome-content">
                        <h1>Bienvenue sur PHP Hero Academy</h1>
                        <p class="welcome-subtitle">Choisissez votre univers pr√©f√©r√© pour commencer l'aventure</p>

                        <!-- Bouton Continuer (affich√© si progression existante) -->
                        <div id="continueSection" style="display: none; margin-bottom: 2rem;">
                            <button class="btn-continue" onclick="continueLastLesson()">
                                ‚ñ∂Ô∏è Continuer o√π vous en √©tiez
                            </button>
                            <div id="lastLessonInfo" style="margin-top: 1rem; padding: 1rem; background: var(--bg-tertiary); border-radius: 8px; font-size: 0.9rem;">
                            </div>
                        </div>

                        <div class="theme-cards">
                            <div class="theme-card" data-theme="macon">
                                <div class="theme-card-icon">üë∑‚Äç‚ôÇÔ∏è</div>
                                <h3>Mode Ma√ßon</h3>
                                <p>Construisez votre code comme un artisan b√¢tit un mur</p>
                                <div class="theme-stats">
                                    <span>üß± 7 Modules</span>
                                    <span>üìö 33 Le√ßons</span>
                                </div>
                                <button class="btn-select-theme" onclick="selectTheme('macon')">
                                    Commencer
                                </button>
                            </div>

                            <div class="theme-card" data-theme="cuisinier">
                                <div class="theme-card-icon">üë®‚Äçüç≥</div>
                                <h3>Mode Cuisinier</h3>
                                <p>Cuisinez du code comme un chef pr√©pare un plat</p>
                                <div class="theme-stats">
                                    <span>üç≥ 7 Modules</span>
                                    <span>üìö 20+ Le√ßons</span>
                                </div>
                                <button class="btn-select-theme" onclick="selectTheme('cuisinier')">
                                    Commencer
                                </button>
                            </div>

                            <div class="theme-card" data-theme="gamer">
                                <div class="theme-card-icon">üéÆ</div>
                                <h3>Mode Gamer</h3>
                                <p>G√©rez votre code comme un inventaire RPG</p>
                                <div class="theme-stats">
                                    <span>‚öîÔ∏è 7 Modules</span>
                                    <span>üìö 20+ Le√ßons</span>
                                </div>
                                <button class="btn-select-theme" onclick="selectTheme('gamer')">
                                    Commencer
                                </button>
                            </div>
                        </div>

                        <div class="welcome-note">
                            <p>üí° Les m√™mes concepts, 3 fa√ßons diff√©rentes de les apprendre</p>
                        </div>

                        <!-- Bouton de d√©bogage pour effacer le cache -->
                        <div style="margin-top: 2rem; text-align: center;">
                            <button onclick="clearCache()" style="padding: 0.5rem 1rem; background: #ef4444; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 0.9rem;">
                                üóëÔ∏è R√©initialiser (effacer la progression)
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Zone de chargement -->
                <div class="loading-state" id="loadingState" style="display: none;">
                    <div class="loader"></div>
                    <p>Chargement du cours...</p>
                </div>

                <!-- Zone d'erreur -->
                <div class="error-state" id="errorState" style="display: none;">
                    <div class="error-icon">‚ö†Ô∏è</div>
                    <h3>Oups ! Une erreur s'est produite</h3>
                    <p id="errorMessage"></p>
                    <button class="btn-retry" onclick="location.reload()">R√©essayer</button>
                </div>

                <!-- Contenu de la le√ßon -->
                <article class="lesson-content" id="lessonContent" style="display: none;">
                    <div class="lesson-header">
                        <div class="lesson-meta">
                            <span class="lesson-module" id="lessonModule"></span>
                            <span class="lesson-duration" id="lessonDuration"></span>
                        </div>
                        <h1 class="lesson-title" id="lessonTitle"></h1>
                    </div>

                    <div class="lesson-body" id="lessonBody">
                        <!-- Le contenu Markdown sera affich√© ici -->
                    </div>

                    <div class="lesson-footer">
                        <div class="lesson-actions">
                            <button class="btn-nav btn-prev" id="btnPrev" onclick="navigatePrev()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="15 18 9 12 15 6"></polyline>
                                </svg>
                                Pr√©c√©dent
                            </button>
                            <button class="btn-complete" id="btnComplete" onclick="markComplete()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                                Marquer comme termin√©
                            </button>
                            <button class="btn-nav btn-next" id="btnNext" onclick="navigateNext()">
                                Suivant
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </button>
                        </div>
                    </div>
                </article>
            </div>
        </main>
    </div>

    <!-- Modal de s√©lection de th√®me -->
    <div class="modal" id="themeModal" style="display: none;">
        <div class="modal-backdrop" onclick="closeThemeModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>Changer de th√®me</h2>
                <button class="modal-close" onclick="closeThemeModal()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p class="modal-description">Votre progression sera conserv√©e. Vous pourrez revenir √† ce th√®me √† tout moment.</p>
                <div class="theme-options">
                    <div class="theme-option" onclick="changeTheme('macon')">
                        <span class="theme-option-icon">üë∑‚Äç‚ôÇÔ∏è</span>
                        <div class="theme-option-info">
                            <h4>Mode Ma√ßon</h4>
                            <p>Construisez votre code</p>
                        </div>
                    </div>
                    <div class="theme-option" onclick="changeTheme('cuisinier')">
                        <span class="theme-option-icon">üë®‚Äçüç≥</span>
                        <div class="theme-option-info">
                            <h4>Mode Cuisinier</h4>
                            <p>Cuisinez du code</p>
                        </div>
                    </div>
                    <div class="theme-option" onclick="changeTheme('gamer')">
                        <span class="theme-option-icon">üéÆ</span>
                        <div class="theme-option-info">
                            <h4>Mode Gamer</h4>
                            <p>G√©rez votre inventaire</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="mobile-menu.js"></script>
    <script src="theme-toggle.js"></script>
    <script src="courses.js"></script>
    <script src="markdown-parser.js"></script>
    <script src="scroll-progress.js"></script>
    <script src="cours-app.js"></script>
</body>
</html>
