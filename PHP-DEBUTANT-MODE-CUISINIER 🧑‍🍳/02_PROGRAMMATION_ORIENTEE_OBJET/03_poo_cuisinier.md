# üë®‚Äçüç≥ POO pour Cuisiniers - Cours 03 : Les m√©thodes (ta recette devient INTELLIGENTE !)

## üç≥ Salut le chef !

Dans les cours pr√©c√©dents, tu as appris √† :
- Cr√©er une **fiche recette** (classe)
- Pr√©parer des **plats** (objets)
- Leur donner des **informations** (propri√©t√©s)

Mais jusqu'ici, ta recette, elle fait quoi ? **Elle reste l√† comme un bout de papier !** üòÑ

Aujourd'hui, on va lui apprendre √† **FAIRE DES CHOSES** !

---

## ü§î Les m√©thodes, c'est quoi exactement ?

Jusqu'√† maintenant, tu as appris les **PROPRI√âT√âS**.

**Les PROPRI√âT√âS** = Ce que la recette **EST**

Exemple : une recette **A** un nom, **A** un temps de cuisson, **A** une temp√©rature...

---

Maintenant, on va voir les **M√âTHODES**.

**Les M√âTHODES** = Ce que la recette **FAIT**

Exemple : une recette **CALCULE** ses calories, **AJUSTE** ses portions, **AFFICHE** sa fiche...

---

### Comparaison simple :

**Dans une cuisine :**

- **Propri√©t√© :** "Cette recette a 8 portions" ‚Üí **C'EST une caract√©ristique**
- **M√©thode :** "Calcule combien de calories dans cette recette" ‚Üí **C'EST une action**

---

**Une recette avec des m√©thodes, c'est une recette qui peut TRAVAILLER TOUTE SEULE !**

Plus besoin de calculer les calories toi-m√™me : la recette le fait !  
Plus besoin d'ajuster les portions √† la main : la recette s'ajuste toute seule !

**Ta recette devient comme un robot de cuisine autonome !** üí™

---

## üî® Exemple 1 : La recette calcule ses calories

Dans une cuisine, pour calculer les calories d'une recette, tu fais comment ?

**nombre d'ingr√©dients √ó calories par ingr√©dient = calories totales**

Maintenant, on va apprendre √† la recette √† **faire ce calcul ELLE-M√äME** !

```php
<?php
class Recette {
    public $nom;
    public $temps_cuisson;
    public $temperature;
    public $portions;
    public $calories_par_portion;

    // M√âTHODE : calculer les calories totales
    public function calculerCaloriesTotales() {
        return $this->portions * $this->calories_par_portion;
    }
}

$gateau_chocolat = new Recette();
$gateau_chocolat->nom = "G√¢teau au chocolat";
$gateau_chocolat->temps_cuisson = 35;
$gateau_chocolat->temperature = 180;
$gateau_chocolat->portions = 8;
$gateau_chocolat->calories_par_portion = 350;

// Je demande √† la recette de calculer ses calories
$calories_totales = $gateau_chocolat->calculerCaloriesTotales();

echo "Calories totales du " . $gateau_chocolat->nom . " : " . $calories_totales . " kcal";
?>
```

---

### üì∫ R√©sultat dans le navigateur :

```
Calories totales du G√¢teau au chocolat : 2800 kcal
```

**LA RECETTE A CALCUL√â TOUTE SEULE !** üí•

---

## üîç D√©cortiquons le code (ligne par ligne)

### La d√©claration de la m√©thode :

```php
public function calculerCaloriesTotales() {
```

**`public`** ‚Üí La m√©thode est **visible par tout le monde** (comme les propri√©t√©s `public`)

**`function`** ‚Üí Le mot magique pour dire **"je cr√©e une action"**

**`calculerCaloriesTotales`** ‚Üí Le **nom** de l'action  
*Tu peux l'appeler comme tu veux : `calculer()`, `getCalories()`, `calories()`...*  
*Mais choisis un nom qui d√©crit bien ce que fait la m√©thode !*

**`()`** ‚Üí Les **parenth√®ses** sont obligatoires apr√®s le nom  
*Pour l'instant, on met rien dedans. On verra pourquoi plus tard.*

**`{`** ‚Üí L'accolade ouvrante : le **d√©but** de la m√©thode

---

### Le code √† l'int√©rieur :

```php
    return $this->portions * $this->calories_par_portion;
```

**`return`** ‚Üí Je **RENVOIE** le r√©sultat du calcul

**`$this`** ‚Üí **MOT SUPER IMPORTANT !**  
√áa veut dire **"MOI-M√äME"** (la recette qui ex√©cute la m√©thode)

**`$this->portions`** ‚Üí **MES** portions (celles de cette recette-ci, pas d'une autre recette)

**`$this->calories_par_portion`** ‚Üí **MES** calories par portion (celles de cette recette-ci)

**`*`** ‚Üí L'op√©rateur de multiplication (tu connais d√©j√†)

---

### La fin de la m√©thode :

```php
}
```

**`}`** ‚Üí L'accolade fermante : la **fin** de la m√©thode

---

## üß† Comprendre `$this` (TR√àS IMPORTANT !)

**`$this`** = **"MOI-M√äME"**

C'est le mot que la recette utilise pour parler d'elle-m√™me.

---

### Exemple concret :

Imagine que tu as **3 recettes** dans ta cuisine :

1. Le g√¢teau au chocolat (8 portions)
2. La tarte aux pommes (6 portions)
3. Les cookies (20 portions)

Quand tu demandes au **g√¢teau au chocolat** de calculer SES calories :
- Il va utiliser **SES** portions (8)
- Pas les portions des cookies (20) !

**`$this->portions`** permet √† la recette de dire : *"MES portions √† moi"*

---

### Analogie :

C'est comme si tu disais :
- **"Ma recette"** ‚Üí la recette que **TU** utilises
- **"Ta recette"** ‚Üí la recette d'un autre

**`$this`** c'est comme dire **"MA"** ou **"MON"**.

---

## üéØ Appeler une m√©thode

Pour **utiliser** une m√©thode, c'est simple :

```php
$calories_totales = $gateau_chocolat->calculerCaloriesTotales();
```

**`$gateau_chocolat`** ‚Üí La recette sur laquelle tu veux agir

**`->`** ‚Üí La fl√®che (tu connais d√©j√† !)

**`calculerCaloriesTotales()`** ‚Üí Le nom de la m√©thode + les parenth√®ses `()`

---

**Traduction en fran√ßais :**

*"H√©, recette du g√¢teau au chocolat, calcule tes calories totales !"*

La recette fait le calcul et **renvoie** le r√©sultat.

---

## üé® Exemple 2 : Ajuster les portions

Une recette peut s'adapter au nombre d'invit√©s, non ?

Cr√©ons une m√©thode pour √ßa !

```php
<?php
class Recette {
    public $nom;
    public $temps_cuisson;
    public $temperature;
    public $portions;
    public $calories_par_portion;

    public function calculerCaloriesTotales() {
        return $this->portions * $this->calories_par_portion;
    }

    // M√âTHODE : ajuster les portions
    public function ajusterPortions($nouvelles_portions) {
        $anciennes_portions = $this->portions;
        $this->portions = $nouvelles_portions;
        echo "Portions ajust√©es de " . $anciennes_portions . " √† " . $nouvelles_portions . " personnes !<br>";
    }
}

$gateau_chocolat = new Recette();
$gateau_chocolat->nom = "G√¢teau au chocolat";
$gateau_chocolat->temps_cuisson = 35;
$gateau_chocolat->temperature = 180;
$gateau_chocolat->portions = 8;
$gateau_chocolat->calories_par_portion = 350;

echo "Portions actuelles : " . $gateau_chocolat->portions . "<br>";

// J'ajuste pour 12 personnes
$gateau_chocolat->ajusterPortions(12);

echo "Nouvelles portions : " . $gateau_chocolat->portions . "<br>";
?>
```

---

### üì∫ R√©sultat :

```
Portions actuelles : 8
Portions ajust√©es de 8 √† 12 personnes !
Nouvelles portions : 12
```

**La recette s'est ajust√©e toute seule !** üé®

---

## üîç Nouvelle notion : les PARAM√àTRES

Regarde bien cette ligne :

```php
public function ajusterPortions($nouvelles_portions) {
```

**Tu vois le `$nouvelles_portions` entre les parenth√®ses ?**

√áa s'appelle un **PARAM√àTRE**.

---

### C'est quoi un param√®tre ?

Un param√®tre, c'est une **information que tu DOIS donner** √† la m√©thode pour qu'elle fonctionne.

**Exemple :**

Pour ajuster une recette, tu DOIS dire **pour combien de personnes**, non ?

Tu peux pas juste dire *"Ajuste la recette"* sans pr√©ciser le nombre !

---

### Comment √ßa marche ?

```php
public function ajusterPortions($nouvelles_portions) {
    $anciennes_portions = $this->portions;
    $this->portions = $nouvelles_portions;
    echo "Portions ajust√©es de " . $anciennes_portions . " √† " . $nouvelles_portions . " personnes !<br>";
}
```

**`$nouvelles_portions`** ‚Üí C'est une variable qui **re√ßoit** l'info que tu donnes

**`$this->portions = $nouvelles_portions;`** ‚Üí Je change **MES** portions avec les nouvelles portions re√ßues

---

### Quand tu appelles la m√©thode :

```php
$gateau_chocolat->ajusterPortions(12);
```

**`12`** ‚Üí C'est la valeur que tu **passes** au param√®tre `$nouvelles_portions`

La m√©thode re√ßoit `12` et l'utilise pour ajuster les portions.

---

## üìã Exemple 3 : Afficher la fiche compl√®te

On peut aussi cr√©er une m√©thode qui **affiche toutes les infos** de la recette d'un coup !

```php
<?php
class Recette {
    public $nom;
    public $temps_cuisson;
    public $temperature;
    public $portions;
    public $calories_par_portion;

    public function calculerCaloriesTotales() {
        return $this->portions * $this->calories_par_portion;
    }

    public function ajusterPortions($nouvelles_portions) {
        $this->portions = $nouvelles_portions;
        echo "Portions ajust√©es √† " . $nouvelles_portions . " personnes !<br>";
    }

    // M√âTHODE : afficher la fiche compl√®te
    public function afficherFiche() {
        echo "===== FICHE RECETTE =====<br>";
        echo "Nom : " . $this->nom . "<br>";
        echo "Temps de cuisson : " . $this->temps_cuisson . " minutes<br>";
        echo "Temp√©rature : " . $this->temperature . "¬∞C<br>";
        echo "Portions : " . $this->portions . " personnes<br>";
        echo "Calories par portion : " . $this->calories_par_portion . " kcal<br>";
        echo "Calories totales : " . $this->calculerCaloriesTotales() . " kcal<br>";
        echo "=========================<br>";
    }
}

$gateau_chocolat = new Recette();
$gateau_chocolat->nom = "G√¢teau au chocolat";
$gateau_chocolat->temps_cuisson = 35;
$gateau_chocolat->temperature = 180;
$gateau_chocolat->portions = 8;
$gateau_chocolat->calories_par_portion = 350;

// J'affiche la fiche
$gateau_chocolat->afficherFiche();
?>
```

---

### üì∫ R√©sultat :

```
===== FICHE RECETTE =====
Nom : G√¢teau au chocolat
Temps de cuisson : 35 minutes
Temp√©rature : 180¬∞C
Portions : 8 personnes
Calories par portion : 350 kcal
Calories totales : 2800 kcal
=========================
```

---

## üí° Chose importante √† remarquer :

Regarde cette ligne dans la m√©thode `afficherFiche()` :

```php
echo "Calories totales : " . $this->calculerCaloriesTotales() . " kcal<br>";
```

**Tu vois ?** Une m√©thode peut **appeler une autre m√©thode** !

Ici, `afficherFiche()` appelle `calculerCaloriesTotales()` pour r√©cup√©rer les calories.

**C'est puissant !** Les m√©thodes peuvent travailler ensemble ! üí™

---

## üî• M√©thode AVEC param√®tre VS SANS param√®tre

### M√©thode SANS param√®tre :

```php
public function calculerCaloriesTotales() {
    return $this->portions * $this->calories_par_portion;
}
```

**Appel :**
```php
$calories = $recette->calculerCaloriesTotales(); // Pas besoin de donner d'info
```

---

### M√©thode AVEC param√®tre :

```php
public function ajusterPortions($nouvelles_portions) {
    $this->portions = $nouvelles_portions;
}
```

**Appel :**
```php
$recette->ajusterPortions(12); // Je DOIS donner le nombre de portions
```

---

## ‚úçÔ∏è EXERCICE PRATIQUE (obligatoire !)

Cr√©e un fichier `exercice_methodes.php` et fais ceci :

### Instructions :

1. Reprends ta classe `Recette` avec les propri√©t√©s : `nom`, `temps_cuisson`, `temperature`, `portions`
2. Ajoute une propri√©t√© `prix_par_portion` (le co√ªt en euros par portion)
3. Ajoute une m√©thode `calculerPrixTotal()` qui calcule le prix total de la recette
   - Le prix total = **portions √ó prix_par_portion**
   - Retourne le prix total
4. Ajoute une m√©thode `afficherResume()` qui affiche :
   - Le nom
   - Le nombre de portions
   - Le prix total (utilise `calculerPrixTotal()`)
5. Cr√©e une recette de **lasagnes** :
   - 6 portions
   - 3.50‚Ç¨ par portion
6. Affiche son r√©sum√©

---

### R√©sultat attendu :

```
R√©sum√© : Lasagnes pour 6 personnes, prix total = 21‚Ç¨
```

---

**Aide :**

Pour calculer le prix :
```php
public function calculerPrixTotal() {
    return $this->portions * $this->prix_par_portion;
}
```

**Essaie de le faire toi-m√™me avant de regarder la solution !**

---

<details>
<summary>üìù Voir la solution (clique pour d√©plier)</summary>

```php
<?php
class Recette {
    public $nom;
    public $temps_cuisson;
    public $temperature;
    public $portions;
    public $prix_par_portion;

    public function calculerPrixTotal() {
        return $this->portions * $this->prix_par_portion;
    }

    public function afficherResume() {
        echo "R√©sum√© : " . $this->nom . " pour " . $this->portions . " personnes, ";
        echo "prix total = " . $this->calculerPrixTotal() . "‚Ç¨<br>";
    }
}

$lasagnes = new Recette();
$lasagnes->nom = "Lasagnes";
$lasagnes->portions = 6;
$lasagnes->prix_par_portion = 3.50;

$lasagnes->afficherResume();
?>
```

</details>

---

## üß† Ce que tu DOIS retenir de ce cours

‚úÖ **Propri√©t√©** = Ce que la recette **EST** (nom, temps, temp√©rature...)

‚úÖ **M√©thode** = Ce que la recette **FAIT** (calculer, ajuster, afficher...)

‚úÖ **`$this`** = **"MOI-M√äME"** (la recette qui parle d'elle)

‚úÖ **M√©thode sans param√®tre** : `calculerCaloriesTotales()`

‚úÖ **M√©thode avec param√®tre** : `ajusterPortions($nb)`

‚úÖ **Une m√©thode peut appeler une autre m√©thode**

‚úÖ **`return`** renvoie un r√©sultat, **`echo`** affiche directement

---

## üìä Tableau r√©capitulatif

| Type | Exemple | Utilisation |
|------|---------|-------------|
| **Propri√©t√©** | `$recette->nom` | Stocker une info |
| **M√©thode sans param√®tre** | `$recette->calculerCaloriesTotales()` | Action simple |
| **M√©thode avec param√®tre** | `$recette->ajusterPortions(12)` | Action avec info |
| **`$this`** | `$this->portions` | Parler de soi |
| **`return`** | `return $resultat;` | Renvoyer une valeur |

---

## ‚è≠Ô∏è Dans le prochain cours...

Tu vas apprendre le **CONSTRUCTEUR** !

**C'est quoi ?**

Une recette qui se cr√©e **directement avec toutes ses infos** !

Plus besoin d'√©crire 10 lignes pour cr√©er une recette... tout se fait **en une seule ligne** ! üöÄ

**Exemple de ce que tu pourras faire :**

```php
$gateau = new Recette("G√¢teau chocolat", 35, 180, 8); // BOOM, recette cr√©√©e !
```

Au lieu de :

```php
$gateau = new Recette();
$gateau->nom = "G√¢teau chocolat";
$gateau->temps_cuisson = 35;
$gateau->temperature = 180;
$gateau->portions = 8;
```

**√áa va te changer la vie !** üòé

---

Mais pour l'instant, **FAIS L'EXERCICE !**

C'est en **pratiquant** qu'on devient bon. Pas en lisant. üí™

---

**üë®‚Äçüç≥ Continue comme √ßa, tu deviens un vrai chef du code !**

*PS : Si tu gal√®res sur l'exercice, relis le cours. La r√©ponse est dedans ! üòä*